
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
  <title>ruuvi_endpoint_3.c</title>

  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.2.1.min.js"></script>
</head>
<body>

<pre><code class = "cpp">
<a name="ln1">#include &quot;ruuvi_endpoint_3.h&quot;</a>
<a name="ln2">#include &quot;ruuvi_endpoints.h&quot;</a>
<a name="ln3">#include &lt;stddef.h&gt;</a>
<a name="ln4">#include &lt;stdbool.h&gt;</a>
<a name="ln5">#include &lt;math.h&gt;</a>
<a name="ln6"> </a>
<a name="ln7">#define RE_3_ENCODE_INVALID_PRECISION       0.00001f</a>
<a name="ln8">#define RE_3_ENCODE_ACC_CONVERT_RATIO       1000</a>
<a name="ln9">#define RE_3_ENCODE_HUMIDITY_CONVERT_RATIO  2</a>
<a name="ln10">#define RE_3_ENCODE_HUMIDITY_CONVERT_OFFSET 0.5</a>
<a name="ln11">#define RE_3_ENCODE_PRESSURE_INIT_OFFSET    50000</a>
<a name="ln12">#define RE_3_ENCODE_BATTERY_CONVERT_RATIO   1000</a>
<a name="ln13">#define RE_3_ENCODE_TEMP_CONVERT_RATIO      100</a>
<a name="ln14">#define RE_3_ENCODE_TEMP_CONVERT_CAP        127.99</a>
<a name="ln15"> </a>
<a name="ln16">#define RE_3_BYTE_SIGN_OFFSET               7</a>
<a name="ln17">#define RE_3_BYTE_OFFSET                    8</a>
<a name="ln18">#define RE_3_BYTE_MASK                      0xFF</a>
<a name="ln19"> </a>
<a name="ln20">static re_float re_3_encode_check_invalid (const re_float data,</a>
<a name="ln21">        const re_float invalid)</a>
<a name="ln22">{</a>
<a name="ln23">    re_float result;</a>
<a name="ln24"> </a>
<a name="ln25">    if (isnan (invalid))</a>
<a name="ln26">    {</a>
<a name="ln27">        if (!isnan (data))</a>
<a name="ln28">        {</a>
<a name="ln29">            result = RE_3_ENCODE_INVALID_PRECISION;</a>
<a name="ln30">        }</a>
<a name="ln31">        else</a>
<a name="ln32">        {</a>
<a name="ln33">            result = NAN;</a>
<a name="ln34">        }</a>
<a name="ln35">    }</a>
<a name="ln36">    else</a>
<a name="ln37">    {</a>
<a name="ln38">        result = fabsf (invalid - data);</a>
<a name="ln39"> </a>
<a name="ln40">        if (result &gt; (RE_3_ENCODE_INVALID_PRECISION))</a>
<a name="ln41">        {</a>
<a name="ln42">            result = RE_3_ENCODE_INVALID_PRECISION;</a>
<a name="ln43">        }</a>
<a name="ln44">        else</a>
<a name="ln45">        {</a>
<a name="ln46">            result = NAN;</a>
<a name="ln47">        }</a>
<a name="ln48">    }</a>
<a name="ln49"> </a>
<a name="ln50">    return result;</a>
<a name="ln51">}</a>
<a name="ln52"> </a>
<a name="ln53">static void re_3_encode_acceleration (uint8_t * const buffer,</a>
<a name="ln54">                                      const re_float acceleration, const re_float invalid)</a>
<a name="ln55">{</a>
<a name="ln56">    if (!isnan (re_3_encode_check_invalid (acceleration, invalid)))</a>
<a name="ln57">    {</a>
<a name="ln58">        int16_t decimal = (int16_t) round ( (acceleration *</a>
<a name="ln59">                                             RE_3_ENCODE_ACC_CONVERT_RATIO));</a>
<a name="ln60">        buffer[0] = ( (uint16_t) decimal) &gt;&gt; RE_3_BYTE_OFFSET;</a>
<a name="ln61">        buffer[1] = ( (uint16_t) decimal) &amp; RE_3_BYTE_MASK;</a>
<a name="ln62">    }</a>
<a name="ln63">    else</a>
<a name="ln64">    {</a>
<a name="ln65">        buffer[0] = RE_3_INVALID_DATA;</a>
<a name="ln66">        buffer[1] = RE_3_INVALID_DATA;</a>
<a name="ln67">    }</a>
<a name="ln68">}</a>
<a name="ln69"> </a>
<a name="ln70">static void re_3_encode_data (uint8_t * const buffer,</a>
<a name="ln71">                              const re_3_data_t * data, const re_float invalid)</a>
<a name="ln72">{</a>
<a name="ln73">    buffer[RE_3_OFFSET_HEADER] = RE_3_DESTINATION;</a>
<a name="ln74"> </a>
<a name="ln75">    // HUMIDITY</a>
<a name="ln76">    if (!isnan (re_3_encode_check_invalid (data-&gt;humidity_rh, invalid)))</a>
<a name="ln77">    {</a>
<a name="ln78">        //Humidity (one lsb is 0.5%, e.g. 128 is 64%). Round the value</a>
<a name="ln79">        buffer[RE_3_OFFSET_HUMIDITY] = (uint8_t) ( (re_float) ( (data-&gt;humidity_rh *</a>
<a name="ln80">                                       RE_3_ENCODE_HUMIDITY_CONVERT_RATIO) +</a>
<a name="ln81">                                       RE_3_ENCODE_HUMIDITY_CONVERT_OFFSET));</a>
<a name="ln82">    }</a>
<a name="ln83">    else</a>
<a name="ln84">    {</a>
<a name="ln85">        buffer[RE_3_OFFSET_HUMIDITY] = RE_3_INVALID_DATA;</a>
<a name="ln86">    }</a>
<a name="ln87"> </a>
<a name="ln88">    // Temperature</a>
<a name="ln89"> </a>
<a name="ln90">    if (!isnan (re_3_encode_check_invalid (data-&gt;temperature_c, invalid)))</a>
<a name="ln91">    {</a>
<a name="ln92">        //Temperature (MSB is sign, next 7 bits are decimal value)</a>
<a name="ln93">        re_float temperature = data-&gt;temperature_c;</a>
<a name="ln94">        uint8_t sign = 0;</a>
<a name="ln95"> </a>
<a name="ln96">        if (temperature &lt; 0)</a>
<a name="ln97">        {</a>
<a name="ln98">            sign = 1;</a>
<a name="ln99">        }</a>
<a name="ln100">        else</a>
<a name="ln101">        {</a>
<a name="ln102">            sign = 0;</a>
<a name="ln103">        }</a>
<a name="ln104"> </a>
<a name="ln105">        // abs value</a>
<a name="ln106">        if (0 &gt; temperature) { temperature = 0 - temperature; }</a>
<a name="ln107"> </a>
<a name="ln108">        // cap the temperature</a>
<a name="ln109">        if (RE_3_ENCODE_TEMP_CONVERT_CAP &lt; temperature)</a>
<a name="ln110">        {</a>
<a name="ln111">            temperature = (re_float) RE_3_ENCODE_TEMP_CONVERT_CAP;</a>
<a name="ln112">        }</a>
<a name="ln113"> </a>
<a name="ln114">        buffer[RE_3_OFFSET_TEMPERATURE_DECIMAL] = (uint8_t) temperature | (uint8_t) (</a>
<a name="ln115">                    sign &lt;&lt; RE_3_BYTE_SIGN_OFFSET);</a>
<a name="ln116">        uint8_t temperature_fraction = (uint8_t) round ( (temperature - floor (</a>
<a name="ln117">                                           temperature)) *</a>
<a name="ln118">                                       RE_3_ENCODE_TEMP_CONVERT_RATIO);</a>
<a name="ln119">        buffer[RE_3_OFFSET_TEMPERATURE_FRACTION] = temperature_fraction;</a>
<a name="ln120">    }</a>
<a name="ln121">    else</a>
<a name="ln122">    {</a>
<a name="ln123">        buffer[RE_3_OFFSET_TEMPERATURE_DECIMAL]  = RE_3_INVALID_DATA;</a>
<a name="ln124">        buffer[RE_3_OFFSET_TEMPERATURE_FRACTION] = RE_3_INVALID_DATA;</a>
<a name="ln125">    }</a>
<a name="ln126"> </a>
<a name="ln127">    // Pressure</a>
<a name="ln128"> </a>
<a name="ln129">    if (!isnan (re_3_encode_check_invalid (data-&gt;pressure_pa, invalid)))</a>
<a name="ln130">    {</a>
<a name="ln131">        uint32_t pressure = (uint32_t) data-&gt;pressure_pa;</a>
<a name="ln132">        pressure -= RE_3_ENCODE_PRESSURE_INIT_OFFSET;</a>
<a name="ln133">        buffer[RE_3_OFFSET_PRESSURE_MSB] = (uint8_t) (pressure &gt;&gt; RE_3_BYTE_OFFSET);</a>
<a name="ln134">        buffer[RE_3_OFFSET_PRESSURE_LSB] = (uint8_t) (pressure &amp; RE_3_BYTE_MASK);</a>
<a name="ln135">    }</a>
<a name="ln136">    else</a>
<a name="ln137">    {</a>
<a name="ln138">        buffer[RE_3_OFFSET_PRESSURE_MSB] = RE_3_INVALID_DATA;</a>
<a name="ln139">        buffer[RE_3_OFFSET_PRESSURE_LSB] = RE_3_INVALID_DATA;</a>
<a name="ln140">    }</a>
<a name="ln141"> </a>
<a name="ln142">    // acceleration</a>
<a name="ln143">    re_3_encode_acceleration (&amp;buffer[RE_3_OFFSET_ACCELERATIONX_MSB],</a>
<a name="ln144">                              data-&gt;accelerationx_g, invalid);</a>
<a name="ln145">    re_3_encode_acceleration (&amp;buffer[RE_3_OFFSET_ACCELERATIONY_MSB],</a>
<a name="ln146">                              data-&gt;accelerationy_g, invalid);</a>
<a name="ln147">    re_3_encode_acceleration (&amp;buffer[RE_3_OFFSET_ACCELERATIONZ_MSB],</a>
<a name="ln148">                              data-&gt;accelerationz_g, invalid);</a>
<a name="ln149">    // voltage</a>
<a name="ln150"> </a>
<a name="ln151">    if (!isnan (re_3_encode_check_invalid (data-&gt;battery_v, invalid)))</a>
<a name="ln152">    {</a>
<a name="ln153">        uint32_t voltage = 0;</a>
<a name="ln154">        re_float voltage_in_mv = (data-&gt;battery_v *</a>
<a name="ln155">                                  RE_3_ENCODE_BATTERY_CONVERT_RATIO);</a>
<a name="ln156"> </a>
<a name="ln157">        if (voltage_in_mv &gt; 0)</a>
<a name="ln158">        {</a>
<a name="ln159">            voltage = (uint32_t) (voltage_in_mv);</a>
<a name="ln160">        }</a>
<a name="ln161"> </a>
<a name="ln162">        buffer[RE_3_OFFSET_VOLTAGE_MSB] = (uint8_t) (voltage &gt;&gt; RE_3_BYTE_OFFSET);</a>
<a name="ln163">        buffer[RE_3_OFFSET_VOLTAGE_LSB] = (uint8_t) (voltage &amp; RE_3_BYTE_MASK);</a>
<a name="ln164">    }</a>
<a name="ln165">    else</a>
<a name="ln166">    {</a>
<a name="ln167">        buffer[RE_3_OFFSET_VOLTAGE_MSB] = RE_3_INVALID_DATA;</a>
<a name="ln168">        buffer[RE_3_OFFSET_VOLTAGE_LSB] = RE_3_INVALID_DATA;</a>
<a name="ln169">    }</a>
<a name="ln170">}</a>
<a name="ln171"> </a>
<a name="ln172">re_status_t re_3_encode (uint8_t * const buffer,</a>
<a name="ln173">                         const re_3_data_t * const data, const re_float invalid)</a>
<a name="ln174">{</a>
<a name="ln175">    re_status_t result = RE_SUCCESS;</a>
<a name="ln176"> </a>
<a name="ln177">    if ( (NULL == buffer) ||</a>
<a name="ln178">            (NULL == data))</a>
<a name="ln179">    {</a>
<a name="ln180">        result = RE_ERROR_NULL;</a>
<a name="ln181">    }</a>
<a name="ln182">    else</a>
<a name="ln183">    {</a>
<a name="ln184">        re_3_encode_data (buffer, data, invalid);</a>
<a name="ln185">    }</a>
<a name="ln186"> </a>
<a name="ln187">    return result;</a>
<a name="ln188">}</a>

</code></pre>
<div class="balloon" rel="27"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The '__builtin_isnan(data)' operand of the '!' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="27"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="56"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> Operand of the '!' operator should have an appropriate essential type.</p></div>
<div class="balloon" rel="56"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="58"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="58"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2003/" target="_blank">V2003</a> Explicit conversion from 'double' type to signed integer type: (int16_t) round((acceleration * 1000))</p></div>
<div class="balloon" rel="60"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '((uint16_t) decimal) >> 8' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="60"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="61"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="61"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="61"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '((uint16_t) decimal) & 0xFF' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="61"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="65"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="66"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="73"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="76"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> Operand of the '!' operator should have an appropriate essential type.</p></div>
<div class="balloon" rel="76"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="79"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="79"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type.</p></div>
<div class="balloon" rel="85"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="90"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> Operand of the '!' operator should have an appropriate essential type.</p></div>
<div class="balloon" rel="90"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="96"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '<' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="98"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="102"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="106"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '>' operator should have the same essential type. The current types are: 'signed' and 'floating'.</p></div>
<div class="balloon" rel="106"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '-' operator should have the same essential type. The current types are: 'signed' and 'floating'.</p></div>
<div class="balloon" rel="114"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type: (uint8_t) temperature</p></div>
<div class="balloon" rel="114"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> Value of the expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="114"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="116"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="116"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'double' type to unsigned integer type.</p></div>
<div class="balloon" rel="123"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="124"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="129"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> Operand of the '!' operator should have an appropriate essential type.</p></div>
<div class="balloon" rel="129"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="131"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type: (uint32_t) data->pressure_pa</p></div>
<div class="balloon" rel="132"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '-=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="134"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="134"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="138"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="139"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="151"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> Operand of the '!' operator should have an appropriate essential type.</p></div>
<div class="balloon" rel="151"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="154"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="157"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '>' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="159"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type: (uint32_t)(voltage_in_mv)</p></div>
<div class="balloon" rel="163"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="163"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="167"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="168"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>
