
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
  <title>ruuvi_endpoint_5.c</title>

  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.2.1.min.js"></script>
</head>
<body>

<pre><code class = "cpp">
<a name="ln1">#include &quot;ruuvi_endpoint_5.h&quot;</a>
<a name="ln2">#include &quot;ruuvi_endpoints.h&quot;</a>
<a name="ln3">#include &lt;stddef.h&gt;</a>
<a name="ln4">#include &lt;stdbool.h&gt;</a>
<a name="ln5">#include &lt;string.h&gt;</a>
<a name="ln6">#include &lt;math.h&gt;</a>
<a name="ln7"> </a>
<a name="ln8">#define RE_5_ENCODE_ACC_CONVERT_RATIO       1000</a>
<a name="ln9">#define RE_5_ENCODE_HUMIDITY_CONVERT_RATIO  400</a>
<a name="ln10">#define RE_5_ENCODE_TEMP_CONVERT_RATIO      200</a>
<a name="ln11">#define RE_5_ENCODE_PRESSURE_INIT_OFFSET    50000</a>
<a name="ln12">#define RE_5_ENCODE_BATTERY_CONVERT_RATIO   1000</a>
<a name="ln13">#define RE_5_ENCODE_BATTERY_CONVERT_OFFSET  1600</a>
<a name="ln14">#define RE_5_ENCODE_BATTERY_MIN             1.6</a>
<a name="ln15"> </a>
<a name="ln16">#define RE_5_ENCODE_TX_POWER_MAX            24</a>
<a name="ln17">#define RE_5_ENCODE_TX_POWER_MIN            -40</a>
<a name="ln18">#define RE_5_ENCODE_TX_POWER_STEP           2</a>
<a name="ln19">#define RE_5_ENCODE_TX_POWER_OFFSET         40</a>
<a name="ln20"> </a>
<a name="ln21">#define RE_5_BYTE_OFFSET                    8</a>
<a name="ln22">#define RE_5_BYTE_2_OFFSET                  16</a>
<a name="ln23">#define RE_5_BYTE_3_OFFSET                  24</a>
<a name="ln24">#define RE_5_BYTE_4_OFFSET                  32</a>
<a name="ln25">#define RE_5_BYTE_5_OFFSET                  40</a>
<a name="ln26">#define RE_5_BYTE_MASK                      0xFF</a>
<a name="ln27">#define RE_5_BYTE_VOLTAGE_OFFSET            5</a>
<a name="ln28"> </a>
<a name="ln29">static void re_5_encode_acceleration (uint8_t * const buffer,</a>
<a name="ln30">                                      const re_float acceleration)</a>
<a name="ln31">{</a>
<a name="ln32">    int16_t decimal = RE_5_INVALID_ACCELERATION;</a>
<a name="ln33"> </a>
<a name="ln34">    if (!isnan (acceleration))</a>
<a name="ln35">    {</a>
<a name="ln36">        // convert to mG</a>
<a name="ln37">        decimal = (int16_t) ( (re_float) (acceleration *</a>
<a name="ln38">                                          RE_5_ENCODE_ACC_CONVERT_RATIO));</a>
<a name="ln39">    }</a>
<a name="ln40"> </a>
<a name="ln41">    buffer[0] = ( ( (uint16_t) decimal) &gt;&gt; RE_5_BYTE_OFFSET);</a>
<a name="ln42">    buffer[1] = ( (uint16_t) decimal) &amp; RE_5_BYTE_MASK;</a>
<a name="ln43">}</a>
<a name="ln44"> </a>
<a name="ln45">static void re_5_encode_set_address (uint8_t * const buffer,</a>
<a name="ln46">                                     const re_5_data_t * data)</a>
<a name="ln47">{</a>
<a name="ln48">    // Address is 64 bits, skip 2 first bytes</a>
<a name="ln49">    uint8_t address_offset = 0;</a>
<a name="ln50">    buffer[RE_5_OFFSET_ADDRESS_MSB + address_offset] =</a>
<a name="ln51">        (data-&gt;address &gt;&gt; RE_5_BYTE_5_OFFSET) &amp; RE_5_BYTE_MASK;</a>
<a name="ln52">    address_offset++;</a>
<a name="ln53">    buffer[RE_5_OFFSET_ADDRESS_MSB + address_offset] =</a>
<a name="ln54">        (data-&gt;address &gt;&gt; RE_5_BYTE_4_OFFSET) &amp; RE_5_BYTE_MASK;</a>
<a name="ln55">    address_offset++;</a>
<a name="ln56">    buffer[RE_5_OFFSET_ADDRESS_MSB + address_offset] =</a>
<a name="ln57">        (data-&gt;address &gt;&gt; RE_5_BYTE_3_OFFSET) &amp; RE_5_BYTE_MASK;</a>
<a name="ln58">    address_offset++;</a>
<a name="ln59">    buffer[RE_5_OFFSET_ADDRESS_MSB + address_offset] =</a>
<a name="ln60">        (data-&gt;address &gt;&gt; RE_5_BYTE_2_OFFSET) &amp; RE_5_BYTE_MASK;</a>
<a name="ln61">    address_offset++;</a>
<a name="ln62">    buffer[RE_5_OFFSET_ADDRESS_MSB + address_offset] =</a>
<a name="ln63">        (data-&gt;address &gt;&gt; RE_5_BYTE_OFFSET) &amp; RE_5_BYTE_MASK;</a>
<a name="ln64">    address_offset++;</a>
<a name="ln65">    buffer[RE_5_OFFSET_ADDRESS_MSB + address_offset] =</a>
<a name="ln66">        (data-&gt;address &gt;&gt; 0) &amp; RE_5_BYTE_MASK;</a>
<a name="ln67">}</a>
<a name="ln68"> </a>
<a name="ln69">static void re_5_encode_data (uint8_t * const buffer,</a>
<a name="ln70">                              const re_5_data_t * data)</a>
<a name="ln71">{</a>
<a name="ln72">    buffer[RE_5_OFFSET_HEADER] = RE_5_DESTINATION;</a>
<a name="ln73">    uint16_t humidity = RE_5_INVALID_HUMIDITY;</a>
<a name="ln74"> </a>
<a name="ln75">    if ( (!isnan (data-&gt;humidity_rh)) &amp;&amp;</a>
<a name="ln76">            (0 &lt; data-&gt;humidity_rh))</a>
<a name="ln77">    {</a>
<a name="ln78">        // Humidity (16bit unsigned) in 0.0025% (0-163.83% range,</a>
<a name="ln79">        // though realistically 0-100%)</a>
<a name="ln80">        humidity = (uint16_t) ( (re_float) (data-&gt;humidity_rh *</a>
<a name="ln81">                                            RE_5_ENCODE_HUMIDITY_CONVERT_RATIO));</a>
<a name="ln82">    }</a>
<a name="ln83"> </a>
<a name="ln84">    buffer[RE_5_OFFSET_HUMIDITY_MSB] = (humidity &gt;&gt; RE_5_BYTE_OFFSET);</a>
<a name="ln85">    buffer[RE_5_OFFSET_HUMIDITY_LSB] = humidity &amp; RE_5_BYTE_MASK;</a>
<a name="ln86">    // Temperature is in 0.005 degrees</a>
<a name="ln87">    int16_t temperature = RE_5_INVALID_TEMPERATURE;</a>
<a name="ln88"> </a>
<a name="ln89">    if (!isnan (data-&gt;temperature_c))</a>
<a name="ln90">    {</a>
<a name="ln91">        temperature = (int16_t) ( (re_float) (data-&gt;temperature_c *</a>
<a name="ln92">                                              RE_5_ENCODE_TEMP_CONVERT_RATIO));</a>
<a name="ln93">    }</a>
<a name="ln94"> </a>
<a name="ln95">    buffer[RE_5_OFFSET_TEMPERATURE_MSB] = ( ( (uint16_t) temperature) &gt;&gt;</a>
<a name="ln96">                                            RE_5_BYTE_OFFSET);</a>
<a name="ln97">    buffer[RE_5_OFFSET_TEMPERATURE_LSB] = ( ( (uint16_t) temperature) &amp;</a>
<a name="ln98">                                            RE_5_BYTE_MASK);</a>
<a name="ln99">    // Pressure</a>
<a name="ln100">    uint32_t pressure = RE_5_INVALID_PRESSURE;</a>
<a name="ln101"> </a>
<a name="ln102">    if ( (!isnan (data-&gt;pressure_pa)) &amp;&amp;</a>
<a name="ln103">            (RE_5_ENCODE_PRESSURE_INIT_OFFSET &lt; data-&gt;pressure_pa))</a>
<a name="ln104">    {</a>
<a name="ln105">        pressure = (uint32_t) data-&gt;pressure_pa;</a>
<a name="ln106">        pressure -= RE_5_ENCODE_PRESSURE_INIT_OFFSET;</a>
<a name="ln107">    }</a>
<a name="ln108"> </a>
<a name="ln109">    buffer[RE_5_OFFSET_PRESSURE_MSB] = (pressure &gt;&gt; RE_5_BYTE_OFFSET) &amp;</a>
<a name="ln110">                                       RE_5_BYTE_MASK;</a>
<a name="ln111">    buffer[RE_5_OFFSET_PRESSURE_LSB] = (pressure  &amp; RE_5_BYTE_MASK);</a>
<a name="ln112">    // acceleration</a>
<a name="ln113">    re_5_encode_acceleration (&amp;buffer[RE_5_OFFSET_ACCELERATIONX_MSB],</a>
<a name="ln114">                              data-&gt;accelerationx_g);</a>
<a name="ln115">    re_5_encode_acceleration (&amp;buffer[RE_5_OFFSET_ACCELERATIONY_MSB],</a>
<a name="ln116">                              data-&gt;accelerationy_g);</a>
<a name="ln117">    re_5_encode_acceleration (&amp;buffer[RE_5_OFFSET_ACCELERATIONZ_MSB],</a>
<a name="ln118">                              data-&gt;accelerationz_g);</a>
<a name="ln119">    // voltage, tx power</a>
<a name="ln120">    uint16_t voltage = RE_5_INVALID_VOLTAGE;</a>
<a name="ln121">    int8_t tx_power = RE_5_INVALID_POWER;</a>
<a name="ln122"> </a>
<a name="ln123">    if ( (!isnan (data-&gt;battery_v)) &amp;&amp;</a>
<a name="ln124">            (RE_5_ENCODE_BATTERY_MIN &lt; data-&gt;battery_v))</a>
<a name="ln125">    {</a>
<a name="ln126">        // first 11 bits unsigned is the battery voltage above 1.6V,</a>
<a name="ln127">        // in millivolts (1.6V to 3.647V range)</a>
<a name="ln128">        voltage = (uint16_t) ( (re_float) ( (re_float) (data-&gt;battery_v *</a>
<a name="ln129">                                            RE_5_ENCODE_BATTERY_CONVERT_RATIO) -</a>
<a name="ln130">                                            RE_5_ENCODE_BATTERY_CONVERT_OFFSET));</a>
<a name="ln131">    }</a>
<a name="ln132"> </a>
<a name="ln133">    if ( (RE_5_INVALID_POWER != data-&gt;tx_power) &amp;&amp;</a>
<a name="ln134">            (data-&gt;tx_power &gt;= RE_5_ENCODE_TX_POWER_MIN) &amp;&amp;</a>
<a name="ln135">            (data-&gt;tx_power &lt;= RE_5_ENCODE_TX_POWER_MAX))</a>
<a name="ln136">    {</a>
<a name="ln137">        // Last 5 bits unsigned is the TX power above -40dBm,</a>
<a name="ln138">        // in 2dBm steps. (-40dBm to +24dBm range)</a>
<a name="ln139">        tx_power = (int8_t) ( (data-&gt;tx_power +</a>
<a name="ln140">                               RE_5_ENCODE_TX_POWER_OFFSET) /</a>
<a name="ln141">                              RE_5_ENCODE_TX_POWER_STEP);</a>
<a name="ln142">    }</a>
<a name="ln143"> </a>
<a name="ln144">    uint16_t power_info = ( (uint16_t) (voltage &lt;&lt; RE_5_BYTE_VOLTAGE_OFFSET)) +</a>
<a name="ln145">                          tx_power;</a>
<a name="ln146">    buffer[RE_5_OFFSET_POWER_MSB] = (power_info &gt;&gt; RE_5_BYTE_OFFSET);</a>
<a name="ln147">    buffer[RE_5_OFFSET_POWER_LSB] = (power_info &amp; RE_5_BYTE_MASK);</a>
<a name="ln148">    buffer[RE_5_OFFSET_MOVEMENT_COUNTER]     = data-&gt;movement_count;</a>
<a name="ln149">    buffer[RE_5_OFFSET_SEQUENCE_COUNTER_MSB] = (data-&gt;measurement_count &gt;&gt;</a>
<a name="ln150">            RE_5_BYTE_OFFSET);</a>
<a name="ln151">    buffer[RE_5_OFFSET_SEQUENCE_COUNTER_LSB] = (data-&gt;measurement_count &amp;</a>
<a name="ln152">            RE_5_BYTE_MASK);</a>
<a name="ln153">    re_5_encode_set_address (buffer, data);</a>
<a name="ln154">}</a>
<a name="ln155"> </a>
<a name="ln156">re_status_t re_5_encode (uint8_t * const buffer,</a>
<a name="ln157">                         const re_5_data_t * data)</a>
<a name="ln158">{</a>
<a name="ln159">    re_status_t result = RE_SUCCESS;</a>
<a name="ln160"> </a>
<a name="ln161">    if ( (NULL == buffer) ||</a>
<a name="ln162">            (NULL == data))</a>
<a name="ln163">    {</a>
<a name="ln164">        result = RE_ERROR_NULL;</a>
<a name="ln165">    }</a>
<a name="ln166">    else</a>
<a name="ln167">    {</a>
<a name="ln168">        re_5_encode_data (buffer, data);</a>
<a name="ln169">    }</a>
<a name="ln170"> </a>
<a name="ln171">    return result;</a>
<a name="ln172">}</a>

</code></pre>
<div class="balloon" rel="32"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '0x8000' expression should not be converted to the narrower essential 'signed' type.</p></div>
<div class="balloon" rel="34"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The '__builtin_isnan(acceleration)' operand of the '!' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="34"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="37"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="37"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2003/" target="_blank">V2003</a> Explicit conversion from 'float' type to signed integer type.</p></div>
<div class="balloon" rel="41"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(((uint16_t) decimal) >> 8)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="41"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="42"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="42"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="42"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '((uint16_t) decimal) & 0xFF' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="42"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="50"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '+' operator should have the same essential type. The current types are: 'signed' and 'unsigned'.</p></div>
<div class="balloon" rel="51"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="51"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="50"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->address >> 40) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="53"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '+' operator should have the same essential type. The current types are: 'signed' and 'unsigned'.</p></div>
<div class="balloon" rel="54"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="54"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="53"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->address >> 32) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="56"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '+' operator should have the same essential type. The current types are: 'signed' and 'unsigned'.</p></div>
<div class="balloon" rel="57"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="57"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="56"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->address >> 24) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="59"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '+' operator should have the same essential type. The current types are: 'signed' and 'unsigned'.</p></div>
<div class="balloon" rel="60"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="60"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="59"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->address >> 16) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="62"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '+' operator should have the same essential type. The current types are: 'signed' and 'unsigned'.</p></div>
<div class="balloon" rel="63"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="63"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="62"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->address >> 8) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="65"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '+' operator should have the same essential type. The current types are: 'signed' and 'unsigned'.</p></div>
<div class="balloon" rel="66"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="66"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="65"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->address >> 0) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="72"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="75"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The '__builtin_isnan(data->humidity_rh)' operand of the '!' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="75"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="76"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '<' operator should have the same essential type. The current types are: 'signed' and 'floating'.</p></div>
<div class="balloon" rel="80"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="80"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type.</p></div>
<div class="balloon" rel="84"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(humidity >> 8)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="84"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="85"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="85"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="85"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the 'humidity & 0xFF' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="85"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="87"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '0x8000' expression should not be converted to the narrower essential 'signed' type.</p></div>
<div class="balloon" rel="89"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The '__builtin_isnan(data->temperature_c)' operand of the '!' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="89"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="91"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="91"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2003/" target="_blank">V2003</a> Explicit conversion from 'float' type to signed integer type.</p></div>
<div class="balloon" rel="95"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(((uint16_t) temperature) >> 8)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="95"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="97"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="97"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="97"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(((uint16_t) temperature) & 0xFF)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="97"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="102"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The '__builtin_isnan(data->pressure_pa)' operand of the '!' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="102"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="103"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '<' operator should have the same essential type. The current types are: 'signed' and 'floating'.</p></div>
<div class="balloon" rel="105"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type: (uint32_t) data->pressure_pa</p></div>
<div class="balloon" rel="106"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '-=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="109"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="109"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="109"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(pressure >> 8) & 0xFF' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="111"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="111"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="111"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(pressure & 0xFF)' expression should not be converted to the narrower essential 'unsigned' type.</p></div>
<div class="balloon" rel="123"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The '__builtin_isnan(data->battery_v)' operand of the '!' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="123"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2570/" target="_blank">V2570</a> Operands of the '!' operator should have bool essential type.</p></div>
<div class="balloon" rel="128"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '*' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="128"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '-' operator should have the same essential type. The current types are: 'floating' and 'signed'.</p></div>
<div class="balloon" rel="128"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2004/" target="_blank">V2004</a> Explicit conversion from 'float' type to unsigned integer type.</p></div>
<div class="balloon" rel="133"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '!=' operator should have the same essential type. The current types are: 'signed' and 'character'.</p></div>
<div class="balloon" rel="134"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '>=' operator should have the same essential type. The current types are: 'character' and 'signed'.</p></div>
<div class="balloon" rel="135"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '<=' operator should have the same essential type. The current types are: 'character' and 'signed'.</p></div>
<div class="balloon" rel="139"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '/' operator should have the same essential type. The current types are: 'character' and 'signed'.</p></div>
<div class="balloon" rel="139"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The left operand '(data->tx_power + 40)' of the '/' operator should not have the essential 'character' type.</p></div>
<div class="balloon" rel="144"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '((uint16_t)(voltage << 5)) + tx_power' expression should not be converted from the essential 'character' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="146"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(power_info >> 8)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="146"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="147"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="147"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="147"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(power_info & 0xFF)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="147"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="149"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->measurement_count >> 8)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="149"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="151"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '&' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>
<div class="balloon" rel="151"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2544/" target="_blank">V2544</a> The right operand '0xFF' of the '&' operator should not have the essential 'signed' type.</p></div>
<div class="balloon" rel="151"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2572/" target="_blank">V2572</a> The value of the '(data->measurement_count & 0xFF)' expression should not be converted from the essential 'signed' type to the essential 'unsigned' type.</p></div>
<div class="balloon" rel="151"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v2568/" target="_blank">V2568</a> Both operands of the '=' operator should have the same essential type. The current types are: 'unsigned' and 'signed'.</p></div>

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>
